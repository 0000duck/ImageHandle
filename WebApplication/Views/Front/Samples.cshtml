@using Models
@model IEnumerable<Sample>
@{
    ViewBag.Title = "Samples";
}

<h2>选择字体样式</h2>
<script type="text/javascript">
    var currentSampleId;
    function SelectSample(sampleid) {
        $("#" + currentSampleId).css("border", "none");
        currentSampleId = sampleid;
        $("#" + currentSampleId).css("border", "1px solid red");
    }

    function StepTwo() {
        var type1 = $("#type1").text()
        var stype1 = $("#style1").text();
        var ifhasbgimg1 = $("#ifHasBgImage1").text();
        var returl = $("#retURL1").text();
        var sampleId = currentSampleId;
        location.href = "/Front/Create2?type=" + type1 + "&style=" + stype1 + "&ifHasBgImage=" + ifhasbgimg1 + "&guid=" + returl + "&sampleId=" + sampleId; 
    }
</script>
 
<div style="margin-top:30px;">
    <table class="table table-bordered text-center" cellpadding="0" cellspacing="0">
        @{int index = 1; }
        @foreach (Sample sample in Model)
        {
            if (index % 4 == 1)
            {
                @Html.Raw("<tr>");
            }
            <td style="padding:0px 0px 0px 0px;">
                <div id=@sample.Id onclick="SelectSample('@sample.Id');" style="height:100%">
                    <img src=@sample.ImageUrl /><br />
                    <label>@sample.Name</label>
                </div>
            </td>
            if (index % 4 == 0)
            {
                @Html.Raw("</tr>");
            };
            index++;
        }
    </table>
    <br />
    <div><button onclick="StepTwo()">确认</button></div>
    <label id="type1" hidden="hidden">@ViewBag.type1</label>
    <label id="style1" hidden="hidden">@ViewBag.style1</label>
    <label id="ifHasBgImage1" hidden="hidden">@ViewBag.ifHasBgImage1</label>
    <label id="retURL1" hidden="hidden">@ViewBag.retURL1</label>
</div> 
